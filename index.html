<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Hangman</title>
</head>

<body>

    <div>
        <p id="directions-text"></p>

        <h2 id="displaySplitChar-text"></h2>
        <!-- <p id="demo"></p> -->
        <p id="displayHiddenMovie-text"></p>
        <p id="hiddenMovie-text"></p>
        <p id="displayRetainChar-text"></p>
        <p id="remainingGuesses-text"></p>

    </div>

    <script>
        let movies = [
            "mulholland drive",
            "persona",
            "seven samurai",
            "taxi driver",
            "the godfather",
            "apocalypse now",
            "there will be blood",
            "pulp fiction",
            "stalker",
            "the tree of life",
            "dr. strangelove",
            "citizen kane",
            "vertigo",
            "in the mood for love",
            "the empire strikes back",
            "synecdoche new york",
            "eternal sunshine of the spotless mind",
            "the night of the hunter",
            "fanny and alexander",
            "rear window",
            "spirited away",
            "the good, the bad, and the ugly",
            "paris, texas",
            "the shining",
            "mirror",
            "chinatown",
            "goodfellas",
            "the silence of the lambs",
            "yi yi",
            "blue velvet",
            "andrei roublev",
            "a clockwork orange",
            "city lights",
            "lawrence of arabia",
            "brighter summer day",
            "the seventh seal",
            "chungking express",
            "it's a wonderful life",
            "the double life of veronique",
            "the third man",
            "punch-drunk love",
            "blade runner",
            "eraserhead",
            "it's such a beautiful day",
            "annie hall",
            "psycho",
            "alien",
            "one flew over the cuckoo's nest",
            "the big lebowski",
            "her",
            "the umbrellas of cherbourg",
            "playtime",
            "star wars",
            "back to the future",
            "once upon a time in the west",
            "nashville",
            "lost in translation",
            "boogie nights",
            "tokyo story",
            "magnolia",
            "au hasard balthazar",
            "children of men",
            "before sunset",
            "badlands",
            "rashomon",
            "brazil",
            "before sunrise",
            "breathless",
            "heaven's gate",
            "all that jazz",
            "modern times",
            "dazed and confused",
            "last year at marienbad",
            "casablanca",
            "pan's labyrinth",
            "days of heaven",
            "the royal tenenbaums",
            "three colors red",
            "the graduate",
            "eyes wide shut",
            "the passion of joan of arc",
            "rosemary's baby",
            "come and see",
            "the apartment",
            "rushmore",
            "the master",
            "the battle of algiers",
            "sunrise",
            "american beauty",
            "fargo",
            "close up",
            "the thin red line",
            "the red shoes"
        ]

        let directionsText = document.getElementById("directions-text");
        let hiddenMovie = document.getElementById("hiddenMovie-text");
        let remainingGuesses = document.getElementById("remainingGuesses-text");
        let displayHiddenMovie = document.getElementById("displayHiddenMovie-text");
        let displaySplitChar = document.getElementById("displaySplitChar-text");
        let displayRetainChar = document.getElementById("displayRetainChar-text");
        let randomMovie = movies[Math.floor(Math.random() * movies.length)];
        let splitChar = randomMovie.split("");
        let retainChar = randomMovie.split("");
        let wrongGuess = 6;
        let chosen = [];

        console.log(randomMovie);
        console.log(randomMovie.length);
        console.log(randomMovie.toUpperCase());

        function hideMovie(randomMovie) {
            for (i = 0; i < splitChar.length; i++) {

                if (splitChar[i] == " ") {

                } else if (splitChar[i] == ",") {

                } else if (splitChar[i] == "-") {

                } else if (splitChar[i] == "'") {

                } else {
                    splitChar[i] = "_";
                }
            }
        }

        hideMovie(randomMovie);

        displaySplitChar.textContent = splitChar.join(" ");

        console.log(splitChar.join(" "));
        console.log(retainChar);

        //displayHiddenMovie.textContent = "Your puzzle is: " + splitChar;

        directionsText.textContent = "Welcome to Criterion Hangman!"
        //displayRetainChar.textContent = "Your split retained chars are " + retainChar;


        document.onkeyup = function (event) {

            let userGuess = event.key;

            chosen.push(userGuess);
            console.log(chosen);

            for (i = 0; i < retainChar.length; i++) {

                if (userGuess.toLowerCase() === randomMovie[i]) {
                    console.log("We've got a match!");
                    splitChar[i] = randomMovie[i].toUpperCase();
                    displaySplitChar.textContent = "Current status: " + splitChar.join(" ");
                    console.log(splitChar.join(" "));
                }

                // } else {
                //     wrongGuess = (wrongGuess - 1);
                //     remainingGuesses.textContent = "Remaining incorrect guesses: " + wrongGuess;
                //     chosen.push(userGuess);
                //     console.log(chosen);
                // }
            }
        }



        // Hide the directions
        directionsText.textContent = "";

    </script>

</body>

</html>